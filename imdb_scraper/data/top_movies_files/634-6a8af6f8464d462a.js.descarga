"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{80380:function(e,t,a){a.d(t,{Z:function(){return X}});var r=a(52322),i=a(2784),n=a(54588),s=a(86958),o=a(82453),l=a(51250);let d="ad-oo",c={setConsentToCookie:(e,t,a)=>{let r=(0,l.rZ)(d,a),i=0;if(void 0!==r&&(("number"==typeof r||"string"==typeof r)&&(i=parseInt(r)),i&t&&!e||!(i&t)&&e))return;e||(i|=t);let n=new Date;n.setHours(n.getHours()+36),(0,l.Ys)(d,i.toString(),n,"shared")}};var u=a(16189),f=a(54073),p=a.n(f),w=a(45455),h=a.n(w),g=a(91754),v=a(22431),m=a(64461),S=a(56044),y=a(113),A=a(95707),_=a(67593),b=a(22873);let E=(e,t)=>{window?.mediaOrchestrator?.publish(e,t)};var I=a(78056),R=a(47401),k=a(98537),M=a.n(k);let L={init:()=>{try{window?.imdb_ad_debug||(window.imdb_ad_debug=L)}catch{}},override:e=>{try{L.init(),M()(L,e)}catch{}},adRefresh:{isPaused:!1,pause:()=>{L.override({adRefresh:{isPaused:!0}})},resume:()=>{L.override({adRefresh:{isPaused:!1}})}},auction:{default:()=>{window.ad_utils?.apsAuctionManager?.forceDefaultRender()},preferAaxAds:()=>{window.ad_utils?.apsAuctionManager?.forceAaxRender()},prefer3pAds:()=>{window.ad_utils?.apsAuctionManager?.forceApsRender()},view3pAdAuditLog:()=>{window.ad_utils?.apsAuctionManager?.viewAuditLog()}}};var P=a(503),O=a(59938),C=a(67246);let N={isReady:!1,hasSetInterval:!1},j=(e,t,a)=>{e.adRefreshInfo&&(e.adRefreshInfo.slotRefreshEligibility=Object.entries(e.adRefreshInfo.slotRefreshEligibility).reduce((e,t)=>{let[a]=t;return{...e,[a]:W(a)}},{}),D(e.adRefreshInfo))&&(document.addEventListener("visibilitychange",x),window.addEventListener("updateAdRefreshStateForSlot",t=>{if(t.detail){let{slotName:a,shouldSlotRefresh:r}=t.detail;U(a,r,e)}}),N.isReady=!0,window.setInterval(q,1e3*e.adRefreshInfo.intervalInSeconds,e,t,a),N.hasSetInterval=!0,L.override({adRefresh:{tryRefresh:()=>{q(e,t,a,!0)}}}))},x=()=>{"visible"===document.visibilityState?(N.isReady=!0,N.postResponseCallback=void 0):N.postResponseCallback=()=>{N.isReady=!1}},D=e=>!(0,P.Wl)()&&!!(!N.hasSetInterval&&e.isEnabled&&e.intervalInSeconds),W=e=>F(e)&&(0,O.Gr)(e)&&!$(e)&&!T(e),F=e=>!!window?.AdSlots?.[e],T=e=>{let t=window.ad_utils?.get_slot_iframe(e);return!!t?.hasAttribute("data-first-party-creative-template")},$=e=>window.AdSlots?.[e]?.creativeMetadata?.adProductType?.grade===R.rP.PREMIUM,q=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(L.adRefresh?.isPaused&&!r||!N.isReady||(0,b.rm)())){if(e.adFetchingInfo){let r=Object.entries(e.adRefreshInfo?.slotRefreshEligibility??{}).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t}),i={webAdsInput:e.adFetchingInfo.params.input,legacySlotSizeMap:e.slotSizeMap??{},apsSlotInfoMap:e.apsSlotInfoMap??{},eligibleSlots:r,isRefreshRequest:!0};(0,_.$)(i,t,a).then(N.postResponseCallback)}else z(e).then(N.postResponseCallback)}},z=e=>{let t=e.clientSideUrl||"",a=e.apsSlotInfoMap||{},r=Object.keys(e.adRefreshInfo?.slotRefreshEligibility||{}).filter(t=>e.adRefreshInfo?.slotRefreshEligibility[t])||[],i=Object.keys(e.slotSizeMap||{}).filter(e=>r.includes(e)).map(t=>({[t]:(e.slotSizeMap||{})[t]})).reduce(Y,{}),n=Object.keys(i=J(i)).join(",");if(!(Object.keys(a).length>0))return(0,A._J)(t,n,i,0,{},void 0,void 0);{let e=C.k.getPreviousWindowWidth(),r=(0,I.QH)(n,i,e);return(0,A._J)(t,n,i,0,{},void 0,void 0,a,r)}},J=e=>Object.keys(e||{}).map(t=>({[t+"_refresh"]:(e||{})[t]})).reduce(Y,{}),U=(e,t,a)=>{a&&a.adRefreshInfo&&a.adRefreshInfo.slotRefreshEligibility&&e&&Object.keys(a.adRefreshInfo.slotRefreshEligibility).includes(e)&&(a.adRefreshInfo.slotRefreshEligibility[e]=t)},Y=(e,t)=>({...e,...t});var B=a(22862),G=a(54172);let V=e=>{let{adSlotsInfo:t}=e;(0,y.WJ)();let a=(0,g.x)(),n=(0,u.createLogger)()("AdPageData"),s=()=>{if(!(0,b.rm)()){if(t.adFetchingInfo){let e=C.k.getPreviousWindowWidth(),r={webAdsInput:t.adFetchingInfo.params.input,legacySlotSizeMap:t.slotSizeMap??{},apsSlotInfoMap:t.apsSlotInfoMap??{},eligibleSlots:Object.keys(t.slots??{}),previousWindowWidth:e};(0,_.$)(r,a,n).finally(()=>C.k.setPreviousWindowWidth())}else(0,A.cU)(t).finally(()=>C.k.setPreviousWindowWidth())}},{slotsEnabled:o,clientSideUrlBase:l,adSlots:d,slotSizeMap:c,apsSlotInfoMap:f}=(0,y.OF)(t);i.useEffect(()=>{let e,r;if(o&&!h()(c)&&(C.k.setPreviousWindowWidth(),e=p()(s,750),window.addEventListener("resize",e),t?.adRefreshInfo?.isEnabled&&("complete"===document.readyState?j(t,a,n):window.addEventListener("load",()=>j(t,a,n)))),!o||!l||!d.includes(v.A.INLINE20)){let e={type:m.X.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,slotName:v.A.INLINE20,timestamp:Date.now()},t={type:m.X.EMPTY,slotName:"",timestamp:Date.now()};E(S.x.MEDIA_PLAYBACK_EVENT_NAME,e),E(S.x.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,t)}return()=>{e&&window.removeEventListener("resize",e),r&&window.removeEventListener("load",r)}},[]);let w=t?.adFetchingInfo?(0,y.f8)(t.adFetchingInfo,d,JSON.stringify(c),JSON.stringify(f)):(0,y.sd)(o,l,d,c,f),I=(0,B.Cq)(t);return(0,r.jsxs)(r.Fragment,{children:[I?(0,r.jsx)(G.j,{sisSlotMarkup:I}):null,(0,r.jsx)("script",{async:!0,dangerouslySetInnerHTML:{__html:w}})]})};function X(){let e=(0,s.B)(),{adSlotsInfo:t}=(0,o.Ok)();return e?.context?.sidecar?.ads?.adsCcbaConsent!==void 0&&c.setConsentToCookie(e.context.sidecar?.ads?.adsCcbaConsent,16,e.context?.headers),(0,r.jsx)(n.Z,{name:"IMDbNextAdPageData",children:(0,r.jsx)(V,{adSlotsInfo:t})})}},54172:function(e,t,a){a.d(t,{j:function(){return S}});var r,i,n=a(52322),s=a(2784),o=a(23906),l=a(59938);let d=(0,a(16189).createLogger)()("util_sisPixel_rws");(r=i||(i={})).GRANTED="granted",r.PROMPT="prompt",r.DENIED="denied";let c=new Set().add("fake_treatment_1.1").add("fake_treatment_1.2").add("fake_treatment_1.3").add("fake_control_2"),u=["mousedown","scroll","keydown"],f="https://amazon-adsystem.com",p=async()=>{let e="cookieDeprecationLabel"in navigator,t="requestStorageAccessFor"in document;if(!e||!t)return d.log("Browser not compatible with Related Website Sets",{hasCookieDeprecationLabel:e,hasRequestStorageAccessFor:t}),!1;try{let e=await navigator.cookieDeprecationLabel.getValue();return d.log(`Received cookieDeprecationLabel: ${e}`),c.has(e)}catch(e){return d.error("Issue fetching cookieDeprecationLabel",e),!1}},w=async()=>{let e=await g();switch(d.log(`Received storageAccessPermissionStatus: ${e}`),e){case"granted":return v();case"prompt":return h()}d.log(`'top-level-storage-access' permissions for ${f}: denied`)},h=async()=>{let e;if(!navigator.userActivation)return;let t=new Promise(t=>{e=e=>t(e)}),a=async()=>{navigator.userActivation.isActive&&(u.forEach(e=>{document.removeEventListener(e,a)}),await v(),e(!0))};return u.forEach(e=>{document.addEventListener(e,a)}),t},g=async()=>{try{return(await navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:f})).state}catch(e){d.error("Error querying Storage Access permissions",e);return}},v=async()=>{if("requestStorageAccessFor"in document)try{return await document.requestStorageAccessFor(f),!0}catch(e){d.error("Error requesting storage access",e)}};var m=a(22862);let S=s.memo(e=>{let{sisSlotMarkup:t}=e,[a,r]=(0,s.useState)(!1),i=(0,o.wL)("util_sisSlotMarkup");return(0,s.useEffect)(()=>{(async()=>{if(!await p())return r(!0);await w();let e=(0,m.ri)(t,i);e&&await (0,m.Lg)(e,i)})()},[]),a?(0,n.jsx)("div",{ref:l.SK.bind(null,t)}):null})},113:function(e,t,a){a.d(t,{OF:function(){return l},WJ:function(){return n},Wd:function(){return c},a5:function(){return d},f8:function(){return s},sd:function(){return o}});var r=a(83473),i=a(47401);let n=()=>{void 0===window.hasAdAJAXCallFired&&(window.hasAdAJAXCallFired=!1)},s=(e,t,a,i)=>{let n=e.endpoint,s=(0,r.S)(e.query),o=JSON.stringify(e.params);return`
        if (window && window.ad_utils && window.ad_utils.makeAdsGraphletCall) {
            window.ad_utils.makeAdsGraphletCall(
                '${n}',
                \`${s}\`,
                ${o},
                '${t}',
                ${a},
                ${i??{}}
            );
    }`},o=(e,t,a,r,i)=>`
        if (window && window.ad_utils && window.ad_utils.makeAdSlotsCall) {
            window.ad_utils.makeAdSlotsCall(
                ${e},
                '${t}',
                '${a}',
                ${JSON.stringify(r)},
                ${i?JSON.stringify(i):"{}"});
    }`,l=e=>({slotsEnabled:!e||e.slotsEnabled,clientSideUrlBase:e?e.clientSideUrl:"",adSlots:e&&e.slots?Object.keys(e.slots).join(","):"",slotSizeMap:e?e.slotSizeMap:{},apsSlotInfoMap:e&&e.apsSlotInfoMap||{}}),d=()=>{window?.lastActualAdMarkup||(window.lastActualAdMarkup={})},c=e=>!e||e?.creativeMetadata?.creativeWidth===0||e?.creativeMetadata?.adProductType?.name===i.A7.BLANK},22862:function(e,t,a){a.d(t,{Cq:function(){return i},Lg:function(){return s},ri:function(){return n}});var r=a(22431);let i=e=>{let t=e?.slots;return t&&t[r.A.SIS_PIXEL]?.slotMarkup},n=(e,t)=>{let a=e.match(/el\.src="(.*)";/),r=a?a[1]:void 0;return r||t.error("Failed to retrieve SIS Pixel URL"),r},s=async(e,t)=>{try{return await fetch(e,{method:"GET",credentials:"include"}),!0}catch(e){t.error("Error fetching SIS Pixel",e)}}},73286:function(e,t,a){a.d(t,{W:function(){return i}});var r=a(52322);function i(e){return e&&0!==e.length?(0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)("link",{rel:"alternate",href:e.url,hrefLang:e.language},`href_lang_${e.language}`))}):null}a(2784)}}]);